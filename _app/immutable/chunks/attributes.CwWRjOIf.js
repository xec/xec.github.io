import{h as l}from"./template.B4OB2rPh.js";import{V as E,a7 as N,a8 as O,a9 as T,aa as $,ab as B,ac as D,N as b,ad as M,O as P}from"./runtime.B-0C5A9i.js";import{c as A,d as k}from"./render.CPk8t1Df.js";function q(s,t){if(t){const r=document.body;s.autofocus=!0,E(()=>{document.activeElement===r&&s.focus()})}}let p=!1;function C(){p||(p=!0,document.addEventListener("reset",s=>{Promise.resolve().then(()=>{var t;if(!s.defaultPrevented)for(const r of s.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Y(s){if(l){let t=!1;const r=()=>{if(t)return;t=!0;const o=s.getAttribute("value");n(s,"value",null),n(s,"checked",null),o&&(s.value=o)};s.__on_r=r,N(r),C()}}function n(s,t,r){r=r==null?null:r+"";var o=s.__attributes??(s.__attributes={});l&&(o[t]=s.getAttribute(t),t==="src"||t==="href"||t==="srcset")||o[t]!==(o[t]=r)&&(t==="loading"&&(s[O]=r),r===null?s.removeAttribute(t):s.setAttribute(t,r))}function j(s,t,r,o,u){var d=u.length!==0;for(var v in t)v in r||(r[v]=null);d&&!r.class&&(r.class="");var _=T(w,s.nodeName);_||$(w,s.nodeName,_=I(s));var L=s.__attributes??(s.__attributes={}),h=[];for(const a in r){let i=r[a];if(i!==(t==null?void 0:t[a])){var g=a[0]+a[1];if(g!=="$$")if(g==="on"){const c={};let f=a.slice(2);var y=M.includes(f);B(f)&&(f=f.slice(0,-7),c.capture=!0),!y&&(t!=null&&t[a])&&s.removeEventListener(f,t[a],c),i!=null&&(y?(s[`__${f}`]=i,k([f])):t?r[a]=A(f,s,i,c):h.push([a,i,()=>r[a]=A(f,s,i,c)]))}else if(i==null)L[a]=null,s.removeAttribute(a);else if(a==="style")s.style.cssText=i+"";else if(a==="autofocus")q(s,!!i);else if(a==="__value"||a==="value")s.value=s[a]=s.__value=i;else{var e=a;_.includes(e)?l&&(e==="src"||e==="href"||e==="srcset")||(s[e]=i):typeof i!="function"&&(d&&e==="class"&&(i&&(i+=" "),i+=u),n(s,e,i))}}}if(!t){const a=D(()=>{E(()=>{if(s.isConnected){for(const[i,c,f]of h)r[i]===c&&f();a()}})})}return r}var G=["width","height"],w=new Map;function I(s){for(var t=[],r,o=b(s);o.constructor.name!=="Element";){r=P(o);for(var u in r)r[u].set&&!G.includes(u)&&t.push(u);o=b(o)}return t}export{C as a,j as b,q as c,Y as r,n as s};
