import{e as f}from"./runtime.B5NQFKQS.js";import{l}from"./input.BNg5qLHS.js";import{i as o}from"./proxy.BzyxwUXw.js";function v(e,u,t){if(e.multiple)return c(e,u);for(var n of e.options){var r=a(n);if(o(r,u)){n.selected=!0;return}}(!t||u!==void 0)&&(e.selectedIndex=-1)}function _(e,u){f(()=>{var t=new MutationObserver(()=>{var n=e.__value;v(e,n)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function b(e,u,t){var n=!0;l(e,"change",()=>{var r;if(e.multiple)r=[].map.call(e.querySelectorAll(":checked"),a);else{var i=e.querySelector(":checked");r=i&&a(i)}t(r)}),f(()=>{var r=u();if(v(e,r,n),n&&r===void 0){var i=e.querySelector(":checked");i!==null&&(r=a(i),t(r))}e.__value=r,n=!1}),_(e)}function c(e,u){for(var t of e.options)t.selected=~u.indexOf(a(t))}function a(e){return"__value"in e?e.__value:e.value}export{b};
