import{as as n,y as g,at as w,a4 as k}from"./runtime.B5NQFKQS.js";import{a as A}from"./attributes.CzNxZNMn.js";import{g as u,i as S}from"./proxy.BzyxwUXw.js";function t(e,f,a,c=a){e.addEventListener(f,a);const _=e.__on_r;_?e.__on_r=()=>{_(),c()}:e.__on_r=c,A()}function C(e,f,a){t(e,"input",()=>{a(i(e)?b(e.value):e.value)}),n(()=>{var c=f();if(g&&e.defaultValue!==e.value){a(e.value);return}i(e)&&c===b(e.value)||e.type==="date"&&!c&&!e.value||(e.value=c??"")})}const d=new Set;function D(e,f,a,c,_){var v=a.getAttribute("type")==="checkbox",l=e;let h=!1;if(f!==null)for(var o of f)l=l[o]??(l[o]=[]);l.push(a),t(a,"change",()=>{var r=a.__value;v&&(r=m(l,r,a.checked)),_(r)},()=>_(v?[]:null)),n(()=>{var r=c();if(g&&a.defaultChecked!==a.checked){h=!0;return}v?(r=r||[],a.checked=u(r).includes(u(a.__value))):a.checked=S(a.__value,r)}),w(()=>{var r=l.indexOf(a);r!==-1&&l.splice(r,1)}),d.has(l)||(d.add(l),k(()=>{l.sort((r,s)=>r.compareDocumentPosition(s)===4?-1:1),d.delete(l)})),k(()=>{if(h){var r;if(v)r=m(l,r,a.checked);else{var s=l.find(y=>y.checked);r=s==null?void 0:s.__value}_(r)}})}function E(e,f,a){t(e,"change",()=>{var c=e.checked;a(c)}),f()==null&&a(!1),n(()=>{var c=f();e.checked=!!c})}function m(e,f,a){for(var c=new Set,_=0;_<e.length;_+=1)e[_].checked&&c.add(e[_].__value);return a||c.delete(f),Array.from(c)}function i(e){var f=e.type;return f==="number"||f==="range"}function b(e){return e===""?null:+e}export{E as a,C as b,D as c,t as l};
