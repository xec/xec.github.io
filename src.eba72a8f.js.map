{"version":3,"sources":["../src/snowflakes.js","../src/index.js"],"names":["snowflakes","flakeSvgTemplate","document","getElementById","slowflakeCount","flakes","Array","fill","map","createFlake","enableAnimation","clone","importNode","content","flake","querySelector","size","Math","random","positionX","positionY","body","appendChild","style","height","left","top","step","forEach","currentPos","parseFloat","window","requestAnimationFrame","start","toggle","addEventListener"],"mappings":";AA+CeA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA/Cf,IAAMA,EAAa,GACbC,EAAmBC,SAASC,eAAe,YAC3CC,EAAiB,GACjBC,EAAS,IAAIC,MAAMF,GAAgBG,KAAK,MAAMC,IAAIC,GACpDC,GAAkB,EAEtB,SAASD,IACDE,IAAAA,EAAQT,SAASU,WAAWX,EAAiBY,SAAS,GACtDC,EAAQH,EAAMI,cAAc,OAC5BC,EAAuB,GAAhBC,KAAKC,SAAgB,GAC5BC,EAA4B,IAAhBF,KAAKC,SAAiB,EAClCE,EAA4B,IAAhBH,KAAKC,SAAiB,GAUjCJ,OATPZ,SAASmB,KAAKC,YAAYX,GAM1BG,EAAMS,MAAMC,OAASR,EAAO,KAC5BF,EAAMS,MAAME,KAAUN,GAAAA,OAAAA,EAAtB,MACAL,EAAMS,MAAMG,IAASN,GAAAA,OAAAA,EAArB,MACON,EAYT,SAASa,IACFjB,IACLL,EAAOuB,QAAQ,SAAAd,GACTe,IAAAA,EAAaC,WAAWhB,EAAMS,MAAMG,IAAK,KAAO,EAKhDG,EAAa,MAAKA,GAAc,IACpCf,EAAMS,MAAMG,IAAOG,EAAa,GAAO,OAEzCE,OAAOC,sBAAsBL,IApB/B3B,EAAWiC,MAAQ,WACjBF,OAAOC,sBAAsBL,IAI/B3B,EAAWkC,OAAS,YACjBxB,GAAmBA,IAAoBV,EAAWiC,SAiBtCjC,IAAAA,EAAAA,EAAAA,QAAAA,QAAAA;;AC5Cf,aAHA,IAAA,EAAA,EAAA,QAAA,iBAGA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GADAA,EAAWiC,QAAAA,QACX/B,SAASC,eAAe,gBAAgBgC,iBAAiB,QAAS,WAAMnC,OAAAA,EAAWkC,QAAAA","file":"src.eba72a8f.js","sourceRoot":"..\\public","sourcesContent":["const snowflakes = {} // default export object\r\nconst flakeSvgTemplate = document.getElementById('flakeSvg')\r\nconst slowflakeCount = 20\r\nconst flakes = new Array(slowflakeCount).fill(null).map(createFlake)\r\nlet enableAnimation = true\r\n\r\nfunction createFlake () {\r\n  const clone = document.importNode(flakeSvgTemplate.content, true)\r\n  const flake = clone.querySelector('svg')\r\n  const size = Math.random() * 30 + 10\r\n  const positionX = Math.random() * 110 - 5\r\n  const positionY = Math.random() * 100 - 10\r\n  document.body.appendChild(clone)\r\n  // flake.data = {\r\n  //   x: positionX,\r\n  //   y: positionY,\r\n  //   size: size\r\n  // }\r\n  flake.style.height = size + 'px'\r\n  flake.style.left = `${positionX}vw`\r\n  flake.style.top = `${positionY}vh`\r\n  return flake\r\n}\r\n\r\nsnowflakes.start = () => {\r\n  window.requestAnimationFrame(step)\r\n}\r\n\r\n// todo: fix toggle (dunno why this not working)\r\nsnowflakes.toggle = () => {\r\n  (enableAnimation = !enableAnimation) && snowflakes.start()\r\n}\r\n\r\nfunction step () {\r\n  if (!enableAnimation) return\r\n  flakes.forEach(flake => {\r\n    let currentPos = parseFloat(flake.style.top, 10) || 0\r\n    // todo: base speed on size (small = slow)\r\n    // todo: spin slightly?\r\n    // todo: some sort of sideways flow\r\n    // todo: animate using translate instead of top\r\n    if (currentPos > 100) currentPos = -20 // looped flakes start out above visible viewport\r\n    flake.style.top = (currentPos + 0.2) + 'vh'\r\n  })\r\n  window.requestAnimationFrame(step)\r\n}\r\n\r\nexport default snowflakes\r\n","import snowflakes from './snowflakes'\r\n\r\nsnowflakes.start()\r\ndocument.getElementById('toggleFlakes').addEventListener('click', () => snowflakes.toggle())\r\n"]}