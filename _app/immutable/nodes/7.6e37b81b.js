import{s as J,n as j,r as $}from"../chunks/scheduler.d55266ba.js";import{S as K,i as L,g as E,m as M,s as X,h as k,j as B,n as P,c as W,E as ee,f as d,k as z,l as N,a as D,F as b,J as U,G as I,K as Q,o as Z,C as x,B as O,r as te,I as le,u as ne,v as se,d as ae,t as re,w as oe}from"../chunks/index.6a01cef0.js";import{e as Y}from"../chunks/each.2918b38a.js";function V(o,e,l){const a=o.slice();return a[13]=e[l],a[15]=l,a}function q(o,e,l){const a=o.slice();return a[16]=e[l],a[18]=l,a}function G(o){let e,l=(o[16].value?o[16].value:"-")+"",a,u,n;function _(...r){return o[9](o[15],o[18],...r)}return{c(){e=E("td"),a=M(l),this.h()},l(r){e=k(r,"TD",{class:!0});var m=B(e);a=P(m,l),m.forEach(d),this.h()},h(){z(e,"class","cell svelte-10hfv7f"),O(e,"filledX",o[16].value==="x"),O(e,"filledO",o[16].value==="o"),O(e,"winningCell",o[2].indexOf(o[16])>-1)},m(r,m){D(r,e,m),b(e,a),u||(n=I(e,"click",_),u=!0)},p(r,m){o=r,m&1&&l!==(l=(o[16].value?o[16].value:"-")+"")&&Z(a,l),m&1&&O(e,"filledX",o[16].value==="x"),m&1&&O(e,"filledO",o[16].value==="o"),m&5&&O(e,"winningCell",o[2].indexOf(o[16])>-1)},d(r){r&&d(e),u=!1,n()}}}function H(o){let e,l,a=Y(o[13]),u=[];for(let n=0;n<a.length;n+=1)u[n]=G(q(o,a,n));return{c(){e=E("tr");for(let n=0;n<u.length;n+=1)u[n].c();l=X(),this.h()},l(n){e=k(n,"TR",{class:!0});var _=B(e);for(let r=0;r<u.length;r+=1)u[r].l(_);l=W(_),_.forEach(d),this.h()},h(){z(e,"class","svelte-10hfv7f")},m(n,_){D(n,e,_);for(let r=0;r<u.length;r+=1)u[r]&&u[r].m(e,null);b(e,l)},p(n,_){if(_&37){a=Y(n[13]);let r;for(r=0;r<a.length;r+=1){const m=q(n,a,r);u[r]?u[r].p(m,_):(u[r]=G(m),u[r].c(),u[r].m(e,l))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}},d(n){n&&d(e),x(u,n)}}}function ie(o){let e,l,a,u,n,_,r,m="reset",p,c,C,v,w,T,F,h=Y(o[0]),f=[];for(let i=0;i<h.length;i+=1)f[i]=H(V(o,h,i));return{c(){e=E("div"),l=E("header"),a=E("form"),u=M(`Board size:\r
      `),n=E("input"),_=X(),r=E("button"),r.textContent=m,p=M(`\r
    Player: `),c=M(o[3]),C=X(),v=E("table"),w=E("tbody");for(let i=0;i<f.length;i+=1)f[i].c();this.h()},l(i){e=k(i,"DIV",{class:!0,style:!0});var t=B(e);l=k(t,"HEADER",{class:!0});var s=B(l);a=k(s,"FORM",{class:!0});var g=B(a);u=P(g,`Board size:\r
      `),n=k(g,"INPUT",{type:!0,min:!0,max:!0}),_=W(g),r=k(g,"BUTTON",{class:!0,"data-svelte-h":!0}),ee(r)!=="svelte-sll5oz"&&(r.textContent=m),g.forEach(d),p=P(s,`\r
    Player: `),c=P(s,o[3]),s.forEach(d),C=W(t),v=k(t,"TABLE",{class:!0});var y=B(v);w=k(y,"TBODY",{});var A=B(w);for(let S=0;S<f.length;S+=1)f[S].l(A);A.forEach(d),y.forEach(d),t.forEach(d),this.h()},h(){z(n,"type","number"),z(n,"min","5"),z(n,"max","150"),z(r,"class","bf-button"),z(a,"class","svelte-10hfv7f"),z(l,"class","svelte-10hfv7f"),z(v,"class","svelte-10hfv7f"),z(e,"class","fiveWrapper svelte-10hfv7f"),N(e,"--cell-size",o[4]+"%")},m(i,t){D(i,e,t),b(e,l),b(l,a),b(a,u),b(a,n),U(n,o[1]),b(a,_),b(a,r),b(l,p),b(l,c),b(e,C),b(e,v),b(v,w);for(let s=0;s<f.length;s+=1)f[s]&&f[s].m(w,null);T||(F=[I(n,"input",o[8]),I(a,"submit",o[6])],T=!0)},p(i,[t]){if(t&2&&Q(n.value)!==i[1]&&U(n,i[1]),t&8&&Z(c,i[3]),t&37){h=Y(i[0]);let s;for(s=0;s<h.length;s+=1){const g=V(i,h,s);f[s]?f[s].p(g,t):(f[s]=H(g),f[s].c(),f[s].m(w,null))}for(;s<f.length;s+=1)f[s].d(1);f.length=h.length}t&16&&N(e,"--cell-size",i[4]+"%")},i:j,o:j,d(i){i&&d(e),x(f,i),T=!1,$(F)}}}function R([o,e,l,a,u]){return o.value&&o.value===e.value&&e.value===l.value&&l.value===a.value&&a.value===u.value}function ue(o,e,l){let a;function u(h,f){c[h][f].value||v.length||(l(0,c[h][f].value=w,c),m(h,f),l(3,w=w==="x"?"o":"x"))}function n(){l(2,v=[]),l(0,c=_())}function _(){return new Array(p).fill(null).map(()=>new Array(p).fill(null).map(()=>({value:null})))}function r(h){h.preventDefault(),l(7,p=C),n()}function m(h,f){let i,t,s;const g=Math.max(0,f-4),y=Math.max(0,h-4),A=Math.min(p-1,f+4),S=Math.min(p-1,h+4);for(t=g;t>=g&&t+4<=A;){if(i=[c[h][t],c[h][t+1],c[h][t+2],c[h][t+3],c[h][t+4]],R(i)){l(2,v=i);return}t++}for(t=y;t>=y&&t+4<=S;){if(i=[c[t][f],c[t+1][f],c[t+2][f],c[t+3][f],c[t+4][f]],R(i)){l(2,v=i);return}t++}for(t=h-4,s=f-4;t<0||s<0;)t++,s++;for(;t>=y&&s>=g&&t+4<=S&&s+4<=A;){if(i=[c[t][s],c[t+1][s+1],c[t+2][s+2],c[t+3][s+3],c[t+4][s+4]],R(i)){l(2,v=i);return}t++,s++}for(t=h+4,s=f-4;t>S||s<0;)t--,s++;for(;t<=S&&s>=g&&t-4>=y&&s+4<=A;){if(i=[c[t][s],c[t-1][s+1],c[t-2][s+2],c[t-3][s+3],c[t-4][s+4]],R(i)){l(2,v=i);return}t--,s++}}let{boardSize:p=10}=e,c=_(),C=p,v=[],w="x";function T(){C=Q(this.value),l(1,C)}const F=(h,f,i)=>u(h,f);return o.$$set=h=>{"boardSize"in h&&l(7,p=h.boardSize)},o.$$.update=()=>{o.$$.dirty&128&&l(4,a=100/p)},[c,C,v,w,a,u,r,p,T,F]}class fe extends K{constructor(e){super(),L(this,e,ue,ie,J,{boardSize:7})}}function ce(o){let e,l,a,u;return a=new fe({props:{boardSize:25}}),{c(){e=X(),l=E("div"),te(a.$$.fragment),this.h()},l(n){le("svelte-19c6yec",document.head).forEach(d),e=W(n),l=k(n,"DIV",{class:!0});var r=B(l);ne(a.$$.fragment,r),r.forEach(d),this.h()},h(){document.title="Five in a row",z(l,"class","svelte-rcbse9")},m(n,_){D(n,e,_),D(n,l,_),se(a,l,null),u=!0},p:j,i(n){u||(ae(a.$$.fragment,n),u=!0)},o(n){re(a.$$.fragment,n),u=!1},d(n){n&&(d(e),d(l)),oe(a)}}}class ve extends K{constructor(e){super(),L(this,e,null,ce,J,{})}}export{ve as component};
