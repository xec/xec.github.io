import"../chunks/disclose-version.Bg9kRutz.js";import{p as ge,aq as f,f as xe,t as d,a as $e,$ as Me,j as _,i as e,s,c as o,r as a,ar as Ae,q as M}from"../chunks/runtime.B5NQFKQS.js";import{s as i}from"../chunks/render.DJ8wz9rq.js";import{i as C}from"../chunks/if.HxPDx8l0.js";import{e as A,i as L}from"../chunks/each.BH-Z99D9.js";import{a as n,t as p}from"../chunks/template.CwwnFE9K.js";import{h as Le}from"../chunks/svelte-head.1DljZgjM.js";import{s as T,r as y}from"../chunks/attributes.CzNxZNMn.js";import{b as J,a as Te,c as Ne}from"../chunks/input.BNg5qLHS.js";import{b as ke}from"../chunks/select.wnl8LcJf.js";import{p as ve}from"../chunks/proxy.BzyxwUXw.js";var qe=p("<option> </option>"),Re=p('<label class="svelte-1e5wrpf"><input type="radio"> </label>'),ze=p('<tr><td class="svelte-1e5wrpf">Aspect</td><td class="svelte-1e5wrpf"> </td></tr>'),Fe=p('<tr><td class="svelte-1e5wrpf">Amulet (50% better)</td><td class="svelte-1e5wrpf"> </td></tr>'),He=p('<tr><td class="svelte-1e5wrpf">2H weapon (100% better)</td><td class="svelte-1e5wrpf"> </td></tr>'),Ie=p('<tr><td class="svelte-1e5wrpf"> </td><td class="svelte-1e5wrpf"> </td></tr>'),Oe=p('<table class="svelte-1e5wrpf"><thead><tr><td class="svelte-1e5wrpf"><strong>NM Tier</strong></td><td class="svelte-1e5wrpf"><strong>Level</strong></td></tr></thead><tbody></tbody></table>'),je=p('<div class="page"><h1>Mastery level neutralizer</h1> <form class="svelte-1e5wrpf"><div><label for="priolvl" class="svelte-1e5wrpf">increased by 25%?</label> <select id="priolvl"></select></div> <div><label for="masterylvl" class="svelte-1e5wrpf"> </label> <input type="range" max="12"></div> <div><label for="masterroll" class="svelte-1e5wrpf">Non-upgraded roll</label> <input id="masterroll" type="number"></div> <div>Masterworked equivalent:</div> <h1> </h1></form></div> <div class="page"><h1>Legendary aspect roll</h1> <form class="svelte-1e5wrpf"><div>Item type <!></div> <div><label for="rollmax" class="svelte-1e5wrpf">My roll</label> <input id="rollmax" type="number"></div> <div><label class="svelte-1e5wrpf"><input type="checkbox"> Lower rolls are better (increased cooldown, for instance)</label></div></form> <table class="svelte-1e5wrpf"><tbody><!><!><!></tbody></table></div> <div class="page"><h2>Nightmare dungeon monster level = dungeon tier + world tier + 50</h2> <div class="tables svelte-1e5wrpf"></div></div>',1);function Ve(ie,de){ge(de,!0);const ne=[];function N(r,t=1){const l=e(g)?r/t:r*t;return Number(l.toFixed(2))}const K=[{name:"Two-handed weapon",factor:2},{name:"Amulet",factor:1.5},{name:"Other",factor:1}];let h=f(50),c=f(ve(K[2])),g=f(!1),k=M(()=>e(g)?e(h)*e(c).factor:e(h)/e(c).factor),pe=M(()=>N(e(k),1.5)),ce=M(()=>N(e(k),2));const me=new Array(10).fill(new Array(10).fill(0).map((r,t)=>t+1)).map((r,t)=>r.map((l,v)=>(t+1)*10+v+1-10)),Q=[{factor:1,color:"unset",name:"nope",min:0},{factor:1.25,color:"blue",name:"once (blue)",min:4},{factor:1.5,color:"yellow",name:"twice (yellow)",min:8}];let u=f(ve(Q[0])),x=f(6),q=f(1),fe=M(()=>{let r=e(u).factor,t=e(x);for(let l=1;l<=t;(l+=1)-1)l%4!==0&&(r+=.05);return e(q)*r});var S=je();Le(r=>{Me.title="Diablo 4 relative roll calculator"});var R=xe(S),U=s(o(R),2),z=o(U),$=s(o(z),2);T($,"style","border:"),A($,21,()=>Q,L,(r,t)=>{var l=qe(),v={},m=o(l);a(l),d(()=>{v!==(v=e(t))&&(l.value=(l.__value=e(t))==null?"":e(t)),T(l,"style",`color: ${e(t).color}`),i(m,e(t).name)}),n(r,l)}),a($),a(z);var F=s(z,2),H=o(F),_e=o(H);a(H);var I=s(H,2);y(I),a(F);var O=s(F,2),V=s(o(O),2);y(V),a(O);var j=s(O,4),ue=o(j);d(()=>i(ue,+e(fe).toFixed(2))),a(j),a(U),a(R);var D=s(R,2),E=s(o(D),2),G=o(E),be=s(o(G));A(be,17,()=>K,L,(r,t)=>{var l=Re(),v=o(l);y(v);var m,b=s(v);a(l),d(()=>{m!==(m=e(t))&&(v.value=(v.__value=e(t))==null?"":e(t)),i(b,` ${e(t).name??""}`)}),Ne(ne,[],v,()=>(e(t),e(c)),w=>_(c,w)),n(r,l)}),a(G);var P=s(G,2),W=s(o(P),2);y(W),a(P);var X=s(P,2),Y=o(X),Z=o(Y);y(Z),Ae(),a(Y),a(X),a(E);var ee=s(E,2),te=o(ee),re=o(te);C(re,()=>e(c).name!=="Other",r=>{var t=ze(),l=s(o(t)),v=o(l);d(()=>i(v,N(e(k)))),a(l),a(t),n(r,t)});var ae=s(re);C(ae,()=>e(c).name!=="Amulet",r=>{var t=Fe(),l=s(o(t)),v=o(l);a(l),a(t),d(()=>i(v,e(pe))),n(r,t)});var we=s(ae);C(we,()=>e(c).name!=="Two-handed weapon",r=>{var t=He(),l=s(o(t)),v=o(l);a(l),a(t),d(()=>i(v,e(ce))),n(r,t)}),a(te),a(ee),a(D);var le=s(D,2),oe=s(o(le),2);A(oe,21,()=>me,L,(r,t)=>{var l=Oe(),v=s(o(l));A(v,21,()=>e(t),L,(m,b)=>{var w=Ie(),B=o(w),ye=o(B);a(B);var se=s(B),he=o(se);a(se),a(w),d(()=>{i(ye,e(b)),i(he,e(b)+50+(e(b)>20?4:3))}),n(m,w)}),a(v),a(l),n(r,l)}),a(oe),a(le),d(()=>{i(_e,`Mastery level: ${e(x)??""}`),T(I,"min",e(u).min),T(j,"style",`color: ${e(u).color}`)}),ke($,()=>e(u),r=>_(u,r)),J(I,()=>e(x),r=>_(x,r)),J(V,()=>e(q),r=>_(q,r)),J(W,()=>e(h),r=>_(h,r)),Te(Z,()=>e(g),r=>_(g,r)),n(ie,S),$e()}export{Ve as component};
