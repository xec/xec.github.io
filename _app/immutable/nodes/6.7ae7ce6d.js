import{s as ye,n as se,r as Ce}from"../chunks/scheduler.d55266ba.js";import{S as De,i as Ae,s as w,g as p,m as z,I as Ie,f as v,c as E,h as m,j as g,n as F,E as Q,k as b,a as M,F as r,J as ne,G as re,K as ke,C as oe,M as Le,o as ie}from"../chunks/index.98ef0ec3.js";import{e as K}from"../chunks/each.0b7829b4.js";function _e(o,t,e){const f=o.slice();return f[13]=t[e],f[15]=e,f}function ve(o,t,e){const f=o.slice();return f[16]=t[e],f[18]=e,f}function pe(o,t,e){const f=o.slice();return f[16]=t[e],f}function me(o){let t,e,f,_=o[16].name+"",c,d,s,l,i;return s=Le(o[10][0]),{c(){t=p("label"),e=p("input"),f=w(),c=z(_),d=w(),this.h()},l(u){t=m(u,"LABEL",{class:!0});var a=g(t);e=m(a,"INPUT",{type:!0}),f=E(a),c=F(a,_),d=E(a),a.forEach(v),this.h()},h(){b(e,"type","radio"),e.__value=o[16],ne(e,e.__value),b(t,"class","svelte-1e5wrpf"),s.p(e)},m(u,a){M(u,t,a),r(t,e),e.checked=e.__value===o[1],r(t,f),r(t,c),r(t,d),l||(i=re(e,"change",o[9]),l=!0)},p(u,a){a&2&&(e.checked=e.__value===u[1])},d(u){u&&v(t),s.r(),l=!1,i()}}}function be(o){let t,e,f="Aspect",_,c,d=o[6](o[3])+"",s;return{c(){t=p("tr"),e=p("td"),e.textContent=f,_=w(),c=p("td"),s=z(d),this.h()},l(l){t=m(l,"TR",{});var i=g(t);e=m(i,"TD",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1decj4m"&&(e.textContent=f),_=E(i),c=m(i,"TD",{class:!0});var u=g(c);s=F(u,d),u.forEach(v),i.forEach(v),this.h()},h(){b(e,"class","svelte-1e5wrpf"),b(c,"class","svelte-1e5wrpf")},m(l,i){M(l,t,i),r(t,e),r(t,_),r(t,c),r(c,s)},p(l,i){i&8&&d!==(d=l[6](l[3])+"")&&ie(s,d)},d(l){l&&v(t)}}}function ge(o){let t,e,f="Amulet (50% better)",_,c,d;return{c(){t=p("tr"),e=p("td"),e.textContent=f,_=w(),c=p("td"),d=z(o[4]),this.h()},l(s){t=m(s,"TR",{});var l=g(t);e=m(l,"TD",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-1ca3bez"&&(e.textContent=f),_=E(l),c=m(l,"TD",{class:!0});var i=g(c);d=F(i,o[4]),i.forEach(v),l.forEach(v),this.h()},h(){b(e,"class","svelte-1e5wrpf"),b(c,"class","svelte-1e5wrpf")},m(s,l){M(s,t,l),r(t,e),r(t,_),r(t,c),r(c,d)},p(s,l){l&16&&ie(d,s[4])},d(s){s&&v(t)}}}function we(o){let t,e,f="2H weapon (100% better)",_,c,d;return{c(){t=p("tr"),e=p("td"),e.textContent=f,_=w(),c=p("td"),d=z(o[5]),this.h()},l(s){t=m(s,"TR",{});var l=g(t);e=m(l,"TD",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-18r6a9d"&&(e.textContent=f),_=E(l),c=m(l,"TD",{class:!0});var i=g(c);d=F(i,o[5]),i.forEach(v),l.forEach(v),this.h()},h(){b(e,"class","svelte-1e5wrpf"),b(c,"class","svelte-1e5wrpf")},m(s,l){M(s,t,l),r(t,e),r(t,_),r(t,c),r(c,d)},p(s,l){l&32&&ie(d,s[5])},d(s){s&&v(t)}}}function Ee(o){let t,e,f=o[16]+"",_,c,d,s=o[16]+(o[16]>20?54:53)+"",l,i;return{c(){t=p("tr"),e=p("td"),_=z(f),c=w(),d=p("td"),l=z(s),i=w(),this.h()},l(u){t=m(u,"TR",{});var a=g(t);e=m(a,"TD",{class:!0});var A=g(e);_=F(A,f),A.forEach(v),c=E(a),d=m(a,"TD",{class:!0});var N=g(d);l=F(N,s),N.forEach(v),i=E(a),a.forEach(v),this.h()},h(){b(e,"class","svelte-1e5wrpf"),b(d,"class","svelte-1e5wrpf")},m(u,a){M(u,t,a),r(t,e),r(e,_),r(t,c),r(t,d),r(d,l),r(t,i)},p:se,d(u){u&&v(t)}}}function Te(o){let t,e,f='<tr><td class="svelte-1e5wrpf"><strong>NM Tier</strong></td> <td class="svelte-1e5wrpf"><strong>Level</strong></td></tr>',_,c,d,s=K(o[13]),l=[];for(let i=0;i<s.length;i+=1)l[i]=Ee(ve(o,s,i));return{c(){t=p("table"),e=p("thead"),e.innerHTML=f,_=w(),c=p("tbody");for(let i=0;i<l.length;i+=1)l[i].c();d=w(),this.h()},l(i){t=m(i,"TABLE",{class:!0});var u=g(t);e=m(u,"THEAD",{"data-svelte-h":!0}),Q(e)!=="svelte-1wsbhsi"&&(e.innerHTML=f),_=E(u),c=m(u,"TBODY",{});var a=g(c);for(let A=0;A<l.length;A+=1)l[A].l(a);a.forEach(v),d=E(u),u.forEach(v),this.h()},h(){b(t,"class","svelte-1e5wrpf")},m(i,u){M(i,t,u),r(t,e),r(t,_),r(t,c);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(c,null);r(t,d)},p(i,u){if(u&256){s=K(i[13]);let a;for(a=0;a<s.length;a+=1){const A=ve(i,s,a);l[a]?l[a].p(A,u):(l[a]=Ee(A),l[a].c(),l[a].m(c,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=s.length}},d(i){i&&v(t),oe(l,i)}}}function Be(o){let t,e,f,_,c,d,s,l,i="My roll",u,a,A,N,O,R,V,H,P,L,W,X,Z,j,S,ce="Nightmare dungeon monster level = dungeon tier + world tier + 50",ee,U,te,fe,Y=K(o[7]),T=[];for(let n=0;n<Y.length;n+=1)T[n]=me(pe(o,Y,n));let y=o[1].name!=="Other"&&be(o),C=o[1].name!=="Amulet"&&ge(o),D=o[1].name!=="Two-handed weapon"&&we(o),q=K(o[8]),k=[];for(let n=0;n<q.length;n+=1)k[n]=Te(_e(o,q,n));return{c(){t=w(),e=p("div"),f=p("form"),_=p("div"),c=z(`Item type\r
			`);for(let n=0;n<T.length;n+=1)T[n].c();d=w(),s=p("div"),l=p("label"),l.textContent=i,u=w(),a=p("input"),A=w(),N=p("div"),O=p("label"),R=p("input"),V=z(`\r
				Lower rolls are better (increased cooldown, for instance)`),H=w(),P=p("table"),L=p("tbody"),y&&y.c(),W=w(),C&&C.c(),X=w(),D&&D.c(),Z=w(),j=p("div"),S=p("h2"),S.textContent=ce,ee=w(),U=p("div");for(let n=0;n<k.length;n+=1)k[n].c();this.h()},l(n){Ie("svelte-1krs3yy",document.head).forEach(v),t=E(n),e=m(n,"DIV",{class:!0});var h=g(e);f=m(h,"FORM",{class:!0});var B=g(f);_=m(B,"DIV",{});var le=g(_);c=F(le,`Item type\r
			`);for(let G=0;G<T.length;G+=1)T[G].l(le);le.forEach(v),d=E(B),s=m(B,"DIV",{});var $=g(s);l=m($,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Q(l)!=="svelte-mdx9ju"&&(l.textContent=i),u=E($),a=m($,"INPUT",{id:!0,type:!0}),$.forEach(v),A=E(B),N=m(B,"DIV",{});var de=g(N);O=m(de,"LABEL",{class:!0});var ae=g(O);R=m(ae,"INPUT",{type:!0}),V=F(ae,`\r
				Lower rolls are better (increased cooldown, for instance)`),ae.forEach(v),de.forEach(v),B.forEach(v),H=E(h),P=m(h,"TABLE",{class:!0});var he=g(P);L=m(he,"TBODY",{});var J=g(L);y&&y.l(J),W=E(J),C&&C.l(J),X=E(J),D&&D.l(J),J.forEach(v),he.forEach(v),h.forEach(v),Z=E(n),j=m(n,"DIV",{class:!0});var x=g(j);S=m(x,"H2",{"data-svelte-h":!0}),Q(S)!=="svelte-zk7ilr"&&(S.textContent=ce),ee=E(x),U=m(x,"DIV",{class:!0});var ue=g(U);for(let G=0;G<k.length;G+=1)k[G].l(ue);ue.forEach(v),x.forEach(v),this.h()},h(){document.title="Diablo 4 relative roll calculator",b(l,"for","rollmax"),b(l,"class","svelte-1e5wrpf"),b(a,"id","rollmax"),b(a,"type","number"),b(R,"type","checkbox"),b(O,"class","svelte-1e5wrpf"),b(f,"class","svelte-1e5wrpf"),b(P,"class","svelte-1e5wrpf"),b(e,"class","page"),b(U,"class","tables svelte-1e5wrpf"),b(j,"class","page")},m(n,I){M(n,t,I),M(n,e,I),r(e,f),r(f,_),r(_,c);for(let h=0;h<T.length;h+=1)T[h]&&T[h].m(_,null);r(f,d),r(f,s),r(s,l),r(s,u),r(s,a),ne(a,o[0]),r(f,A),r(f,N),r(N,O),r(O,R),R.checked=o[2],r(O,V),r(e,H),r(e,P),r(P,L),y&&y.m(L,null),r(L,W),C&&C.m(L,null),r(L,X),D&&D.m(L,null),M(n,Z,I),M(n,j,I),r(j,S),r(j,ee),r(j,U);for(let h=0;h<k.length;h+=1)k[h]&&k[h].m(U,null);te||(fe=[re(a,"input",o[11]),re(R,"change",o[12])],te=!0)},p(n,[I]){if(I&130){Y=K(n[7]);let h;for(h=0;h<Y.length;h+=1){const B=pe(n,Y,h);T[h]?T[h].p(B,I):(T[h]=me(B),T[h].c(),T[h].m(_,null))}for(;h<T.length;h+=1)T[h].d(1);T.length=Y.length}if(I&1&&ke(a.value)!==n[0]&&ne(a,n[0]),I&4&&(R.checked=n[2]),n[1].name!=="Other"?y?y.p(n,I):(y=be(n),y.c(),y.m(L,W)):y&&(y.d(1),y=null),n[1].name!=="Amulet"?C?C.p(n,I):(C=ge(n),C.c(),C.m(L,X)):C&&(C.d(1),C=null),n[1].name!=="Two-handed weapon"?D?D.p(n,I):(D=we(n),D.c(),D.m(L,null)):D&&(D.d(1),D=null),I&256){q=K(n[8]);let h;for(h=0;h<q.length;h+=1){const B=_e(n,q,h);k[h]?k[h].p(B,I):(k[h]=Te(B),k[h].c(),k[h].m(U,null))}for(;h<k.length;h+=1)k[h].d(1);k.length=q.length}},i:se,o:se,d(n){n&&(v(t),v(e),v(Z),v(j)),oe(T,n),y&&y.d(),C&&C.d(),D&&D.d(),oe(k,n),te=!1,Ce(fe)}}}function Ne(o,t,e){function f(V,H=1){const P=s?V/H:V*H;return Number(P.toFixed(2))}const _=[{name:"Two-handed weapon",factor:2},{name:"Amulet",factor:1.5},{name:"Other",factor:1}];let c=50,d=_[2],s=!1,l,i,u;const a=new Array(10).fill(new Array(10).fill(0).map((V,H)=>H+1)).map((V,H)=>V.map((P,L)=>(H+1)*10+L+1-10)),A=[[]];function N(){d=this.__value,e(1,d)}function O(){c=ke(this.value),e(0,c)}function R(){s=this.checked,e(2,s)}return o.$$.update=()=>{o.$$.dirty&15&&(e(3,l=s?c*d.factor:c/d.factor),e(4,i=f(l,1.5)),e(5,u=f(l,2)))},[c,d,s,l,i,u,f,_,a,N,A,O,R]}class Re extends De{constructor(t){super(),Ae(this,t,Ne,Be,ye,{})}}export{Re as component};
